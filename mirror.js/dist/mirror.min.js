function inputChange(a,b){var c=getElementPath(b.target);socket.emit(a,{textEntered:$(b.target).val(),pathEntered:c})}function getElementPath(a){var b=[];if(a.getAttribute("id"))return a.getAttribute("id");for(;a.parentNode;)b.push(Array.prototype.slice.call(a.parentNode.childNodes,0).indexOf(a)),a=a.parentNode;return b.reverse()}function findElementByPath(a){if("string"==typeof a)return document.getElementById(a);for(var b=document,c=0,d=a.length;d>c;c++)if(b=b.childNodes[a[c]],!b)return;return b}var socket=io.connect("http://localhost:3000");$("body").click(function(a){var b=getElementPath(a.target);console.log(b),socket.emit("click",b)}),$("input").change(function(a){inputChange("textBox",a)}),$(document).scroll(function(){socket.emit("scroll",{top:$(document).scrollTop(),left:$(document).scrollLeft()})});var nodeClicked;socket.on("click",function(a){var b=findElementByPath(a);nodeClicked!==b&&b.click(),nodeClicked=b}),socket.on("scroll",function(a){$(document).scrollTop(a.top),$(document).scrollLeft(a.left)});var nodeTextEntered;socket.on("textBox",function(a){var b=findElementByPath(a.pathEntered);a.pathEntered!==nodeTextEntered&&$(b).val(a.textEntered),nodeTextEntered=a.pathEntered});